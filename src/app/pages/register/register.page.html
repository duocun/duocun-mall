<ion-header>
  <div class="container">
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-back-button defaultHref="/tabs/login" text=""></ion-back-button>
      </ion-buttons>
      <!-- <ion-title class="ion-text-center" translate="Create Account"></ion-title> -->
    </ion-toolbar>
  </div>
</ion-header>

<ion-content>
  <div class="container container-sm">
    <form class="ion-padding-horizontal ion-margin-top">
      <!-- <div class="ion-padding-horizontal ion-margin-top">
        <ion-row>
          <ion-col class="ion-text-center">
            <b class="stroke before"></b>
            <ion-label translate="Create Account"></ion-label>
            <b class="stroke after"></b>
          </ion-col>
        </ion-row>
      </div> -->
      <ion-row class="row-title">
        <ion-col size="12">
          <ion-title translate="Create Account"></ion-title>
        </ion-col>
      </ion-row>
      <ion-list lines="full" class="list-input">
        <ion-item>
          <ion-grid class="ion-no-padding ion-no-margin w-100">
            <ion-row>
              <ion-col size="12">
                <ion-label position="stacked" translate="Username"></ion-label>
                <ion-input 
                  required 
                  type="text" 
                  name="username"
                  placeholder="{{'Please input username' | translate}}"
                  autocomplete="off" 
                  autofocus=true 
                  minlength="5" 
                  maxlength="20"
                  [(ngModel)]="model.username"
                ></ion-input>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ion-item class="row-phone">
          <ion-grid class="ion-no-padding ion-no-margin w-100">
            <ion-row>
              <ion-col size="12">
                <ion-label position="stacked" translate="Phone Number"></ion-label>
                <ion-input 
                  required
                  type="text"
                  name="phone"
                  placeholder="{{'Please input phone number' | translate}}"
                  autocomplete="on"
                  inputmode="tel"
                  minlength="6"
                  maxlength="20"
                  [(ngModel)]="model.phone"
                ></ion-input>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ion-item class="ion-margin-top ">
          <ion-grid class="ion-no-padding ion-no-margin w-100">
            <ion-row>
              <ion-col size="8">
                <ion-label position="stacked" translate="OTP Code"></ion-label>
                <ion-input required type="text" name="otp" placeholder="{{'Please input verification code' | translate}}" [(ngModel)]="model.verificationCode"></ion-input>
              </ion-col>
              <ion-col size="4">
                <ion-button
                  [disabled]="processing || !isValidPhone() || otpSentCount > 3"
                  class="ion-margin-top"
                  expand="block"
                  type="button"
                  color="tertiary"
                  (click)="handleSendOTP()"
                >
                  {{ (isOtpSent ? "Resend OTP Code" : "Send OTP Code") | translate }}
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
      </ion-list>
      <ion-item class="ion-margin-top row-agreement">
          <ion-checkbox size="small" name="agreed" color="secondary" slot="start" [(ngModel)]="tosAgreed"></ion-checkbox>
          <ion-label size="small" translate="Agree with terms of service and privacy policy"></ion-label>
      </ion-item>
      <!-- <div class="ion-padding"> -->
        <ion-row>
          <ion-col>
            <ion-button
              [disabled]="processing || !isValidForm()"
              expand="full" 
              type="submit" 
              translate="Create Account"
              (click)="handleSignUp()"
            >
        </ion-button>
          </ion-col>
        </ion-row>
      <!-- </div> -->
      <!-- <div class="ion-padding">
        <ion-row>
          <ion-col size="12" class="ion-text-center">
            <b class="stroke before"></b>
            <ion-label translate="Or sign up with"></ion-label>
            <b class="stroke after"></b>
          </ion-col>
          <ion-col size="12">
            <ion-button class="button-google" expand="full" id="googleLoginButton">
              <ion-icon name="logo-google" class="ion-margin-end"></ion-icon>
              <ion-label translate="Sign up with Google"></ion-label>
            </ion-button>
          </ion-col>
          <ion-col size="12">
            <ion-button class="button-facebook" expand="full">
              <ion-icon name="logo-facebook" class="ion-margin-end"></ion-icon>
              <ion-label translate="Sign up with Facebook"></ion-label>
            </ion-button>
          </ion-col>
        </ion-row>
      </div> -->
    </form>

    <div class="ion-padding">
      <ion-row>
        <ion-col size="12">
          <ion-label translate="Already have an account?"></ion-label>
          <ion-label color="primary" routerLink="/tabs/login" translate="Sign In"></ion-label>
        </ion-col>
      </ion-row>
    </div>
    
  </div>
</ion-content>
